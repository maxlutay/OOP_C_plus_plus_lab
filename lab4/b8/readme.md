Вариант №Б-8 “Чайники”:

Заготовку для варианта можно скачать здесь.

В задании требуется:
Спроектировать и реализовать классы, моделирующие две разновидности чайников - ручной и автоматический.
Реализовать уже спроектированный управляющий класс.
Достигнуть работоспособности решения, проверяемой подготовленным набором тестов.

Заготовка содержит следующие файлы:
основные файлы, в которые нужно будет вносить изменения в ходе работы:
teapot.hpp и teapot.cpp - пустышки, в которые следует добавить объявление и реализацию базового класса Teapot, моделирующего общие свойства всех видов чайников;
automaticteapot.hpp и automaticteapot.cpp - пустышки, в которые следует добавить объявление и реализацию класса AutomaticTeapot, моделирующего автоматический чайник;
manualteapot.hpp и manualteapot.cpp - пустышки, в которые следует добавить объявление и реализацию класса ManualTeapot, моделирующего управляемый вручную чайник;
controller.hpp - заготовка управляющего класса, которую можно дополнять при не обходимости, не удаляя существующее содержимое;
controller.cpp - пустышка, в которую следует добавить реализацию управляющего класса;
вспомогательные файлы - ни один из них в ходе решения изменять не нужно:
messages.hpp - файл с подготовленными сообщениями с текстами ошибок;
test.cpp и testslib.hpp - набор автоматических тестов для проверки решения.
08_teapots.vcxproj и 08_teapots.vcxproj.filters - файлы проекта для VS2015.

Ход работы:

Объявите и реализуйте базовый абстрактный класс Teapot, моделирующий общие свойства всех видов чайников:
должен быть объявлен в файле teapot.hpp и реализован в файле teapot.cpp;
в объекте Teapot необходимо хранить следующие данные:
максимальный объем воды в миллилитрах (целое число);
текущий объем воды в миллилитрах (целое число);
скорость закипания - количество градусов повышения температуры 1 литра воды в минуту (целое число);
текущая температура воды (целое число);
включенное или выключенное состояние (bool);
объявите статическую целую константу, обозначающую стандартную комнатную температуру в 20 градусов;
как вершина иерархии наследования классов, класс Teapot должен иметь виртуальный деструктор;
рекомендуется объявить виртуальные методы для определения реакции чайника на закипание (температура достигла 100 градусов) и отсутствие воды;
необходимо определить обычный метод обновления состояния чайника по прошествии 1 минуты:
если чайник выключен:
если температура воды выше комнатной, каждую минуту вода остывает на 2 градуса независимо от объема до достижения комнатной температуры;
если температура воды комнатная, ничего не происходит;
если чайник включен:
если в нем нет воды, нужно вызвать метод реакции на отсутствие воды;
если вода еще не закипела, нужно обновить ее температуру в соответствии с объемом и скоростью нагревания;
если вода закипела, нужно вызвать метод реакции на закипание воды;

необходимость в конкретных объявлениях (конструкторах, деструкторах, методах, операторах и.т.п.) определить самостоятельно.

Объявите и реализуйте класс AutomaticTeapot, наследующий Teapot, моделирующий автоматический чайник:
должен быть объявлен в файле automaticteapot.hpp и реализован в файле automaticteapot.cpp;
в объекте AutomaticTeapot не требуется хранить никаких специальных данных:
реакцией на закипание воды является автоматическое выключение;
реакцией на отсутствие воды является автоматическое выключение;
необходимость в конкретных объявлениях (конструкторах, деструкторах, методах, операторах и.т.п.) определить самостоятельно.

Объявите и реализуйте класс ManualTeapot, наследующий Teapot, моделирующий вручную управляемый чайник:
должен быть объявлен в файле manualteapot.hpp и реализован в файле manualteapot.cpp;
объявите статическую целую константу, равную 3, обозначающую максимальное количество предупреждений об отсутствии воды до возгорания чайника;
в объекте ManualTeapot необходимо хранить следующие данные:
текущее количество пропущенных предупреждений об отсутствии воды (целое число);
объем выкипевшей воды в миллилитрах (целое число);
реакция такого чайника на закипание воды - потеря 5% ее объема в минуту;
реакция такого чайника на отсутствие воды - регистрация предупреждения (увеличение счетчика), а когда счетчик достигает максимального числа предупреждений, генерация исключительной ситуации о риске возгорания (Messages::TeapotAlmostBurned)
необходимость в конкретных объявлениях (конструкторах, деструкторах, методах, операторах и.т.п.) определить самостоятельно.

Создайте реализацию частично подготовленного управляющего класса Controller:
должен быть объявлен в файле controller.hpp и реализован в файле controller.cpp;
уже созданное  содержимое класса изменять нельзя, но добавлять можно что угодно;
необходимо хранить следующие данные (подобрать соответствующие контейнеры):
набор чайников (объекты Teapot в том или ином контейнере);
любые другие данные, если в их добавлении возникнет необходимость;
чайники идентифицируются по порядковому номеру регистрации, соответственно, вектор является предпочтительным контейнером для их хранения;
управляющий класс полностью отвечает за уничтожение всех чайников;
должны поддерживаться открытые методы в соответствии с таблицей ниже;
любые вспомогательные методы могут быть добавлены при необходимости.

Прототип метода
Основное действие
Исключения
void 
createManualTeapot ( 
    int _maxVolume, 
    int _speed 
);
Создает ручной чайник (объект ManualTeapot) и регистрирует его во внутреннем контейнере контроллера.
Messages::NonPositiveVolume - если указанный объем чайника не является положительным числом.

Messages::NonPositiveSpeed - если указанная скорость нагрева не является положительным числом.
void 
createAutomaticTeapot ( 
    int _maxVolume, 
    int _speed 
);
Создает автоматический чайник (объект AutomaticTeapot) и регистрирует его во внутреннем контейнере контроллера
Messages::NonPositiveVolume - если указанный объем чайника не является положительным числом.

Messages::NonPositiveSpeed - если указанная скорость нагрева не является положительным числом.
int 
getTeapotCurrentVolume (
     int _teapotIndex 
) const;
Возвращает текущий объем воды в чайнике с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.
int 
getTeapotMaxVolume ( 
    int _teapotIndex 
) const;
Возвращает максимальный объем воды в чайнике с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


int 
getTeapotCurrentTemperature ( 
    int _teapotIndex 
) const;
Возвращает текущую температуру воды в чайнике с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


int 
getTeapotBoilingSpeed ( 
    int _teapotIndex 
) const;
Возвращает скорость закипания в чайнике с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


bool 
isTeapotOn ( 
    int _teapotIndex 
) const;
Возвращает true, если чайник с указанным порядковым номером включен в данный момент.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


void 
turnOnTeapot ( 
    int _teapotIndex 
);
Включает чайник с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


void 
turnOffTeapot ( 
    int _teapotIndex 
);
Выключает чайник с указанным порядковым номером.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.


void 
addWater ( 
    int _teapotIndex, 
    int _volume 
);
Добавляет указанное количество воды в чайник с указанным порядковым номером. Нельзя добавлять воду во включенный чайник.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.

Messages::NonPositiveVolume - если указанный объем воды не является положительным числом.

Messages::
TeapotVolumeOverflow - если новый объем воды превысит максимальный для чайника.

Messages::TeapotIsNotModifiable - если чайник включен в этот момент.



void 
takeWater ( 
    int _teapotIndex, 
    int _volume 
);
Забирает указанное количество воды из чайника с указанным порядковым номером. Нельзя забирать воду из включенного чайника.
Messages::WrongTeapotIndex - если чайник с таким порядковым номером не найден.

Messages::NonPositiveVolume - если указанный объем воды не является положительным числом.

Messages::
TeapotVolumeUnderflow - если забирается больше воды, чем есть в чайнике.

Messages::TeapotIsNotModifiable - если чайник включен в этот момент.
void 
wait ( 
    int _minutesCount 
);
Имитирует ожидание указанного числа N минут. Это должно привести к вызову метода обновления состояния чайника на каждом зарегистрированном чайнике N раз подряд. 
Messages::TeapotAlmostBurned - если ручной чайник без воды включен уже 3 минуты!

Завершив реализацию всех классов и методов, запустите проект на выполнение. Если те или иные тесты не сработают, воспользуйтесь отладчиком для выяснения причины проблемы, устраните ее и запустите программу еще раз, до тех пор, пока все тесты не пройдут успешно. Тесты можно использовать также для достижения четкого понимания требований к функциями класса-контроллера. 
